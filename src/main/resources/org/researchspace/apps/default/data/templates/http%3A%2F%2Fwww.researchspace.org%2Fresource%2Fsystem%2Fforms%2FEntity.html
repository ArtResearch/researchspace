<semantic-switch 
    query='SELECT ?typename {
            BIND(<{{node}}> as ?node)
            ?node a ?cidocType .
            OPTIONAL {?cidocType rdfs:subClassOf* crm:E71_Man-Made_Thing . BIND("true" as ?isE71)
                OPTIONAL {?cidocType rdfs:subClassOf* crm:E55_Type . BIND("true" as ?isE55)}                
            }
            OPTIONAL {?cidocType rdfs:subClassOf* crm:E52_Time-Span . BIND("true" as ?isE52)}
            bind( if (BOUND(?isE52),
                        "type timespan" ,
                (if (bound(?isE55), 
                            "type skos",
                (if ( BOUND(?isE71),
                                "type man-made thing",
                        "type entity" )))))
                    as ?typename )
            }'
    cases='{"type timespan": "{{> timespan}}", 
            "type skos": "{{> skos}}", 
            "type man-made thing": "{{> thing}}",
            "type entity": "{{> entity}}"}'>
    <template id='timespan'>
        {{#> forms:Entity_partial node=node scheme=scheme}}
            <semantic-form-text-input for="entity_timespan_label" label="Entity name/appellation" placeholder="Enter name/appellation"></semantic-form-text-input>                             
        {{/forms:Entity_partial}}     
    </template>
    <template id='skos'>
        {{#> forms:Entity_partial node=node scheme=scheme}}
            <semantic-form-text-input for="entity_type_label" label="Entity name/appellation" placeholder="Enter name/appellation"></semantic-form-text-input>                             
        {{/forms:Entity_partial}}     
    </template>
    <template id='thing'>
        {{#> forms:Entity_partial node=node scheme=scheme}}
            <semantic-form-text-input for="entity_man_made_thing_label" label="Entity name/appellation" placeholder="Enter name/appellation"></semantic-form-text-input>                             
        {{/forms:Entity_partial}}     
    </template>
    <template id='entity'>
        {{#> forms:Entity_partial node=node scheme=scheme}}
            <semantic-form-text-input for="entity_appellation" label="Entity name/appellation" placeholder="Enter name/appellation"></semantic-form-text-input>                             
        {{/forms:Entity_partial}}     
    </template>
</semantic-switch>


