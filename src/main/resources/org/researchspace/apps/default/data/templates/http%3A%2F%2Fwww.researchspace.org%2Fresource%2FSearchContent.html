<bs-tab-container id="semantic-search-tabs" default-active-key="text-search">

  <div>
    <bs-nav bs-style="tabs">
      <bs-nav-item event-key="text-search">
        Text search
      </bs-nav-item>
      <bs-nav-item event-key="structured-search">
        Structured search
      </bs-nav-item>
    </bs-nav>

    <bs-tab-content>
      <bs-tab-pane event-key="text-search">
        <semantic-search config='[[searchConfigForFieldsFromQuery "SELECT DISTINCT ?field WHERE { ?field a <http://www.researchspace.org/resource/system/fields/Field> . ?field <http://www.researchspace.org/resource/system/fields/domain> ?domain . ?field <http://www.researchspace.org/resource/system/fields/range> ?range . }"]]'>
          
          [[#partial "searchQuery"]]
          <semantic-search-query-keyword 
          domain='<http://www.cidoc-crm.org/cidoc-crm/E1_CRM_Entity>'
          query='
            SELECT ?subject WHERE { 
              ?subject a ?type .
              ?type rdfs:subClassOf* crm:E1_CRM_Entity .
              ?subject rdfs:label ?label .
              SERVICE <http://www.bigdata.com/rdf/search#search> {
                ?label bds:search ?__token__ ;
                          bds:minRelevance "0.3" ;
                          bds:matchAllTerms "true"  .
              }
            }
          '
          default-query='
              SELECT ?subject WHERE { 
              ?subject a ?type .
              ?type rdfs:subClassOf* crm:E1_CRM_Entity .
              }         
          '
          debounce=500
          ></semantic-search-query-keyword>
          [[/partial]]

          [[> rsp:SearchResults]]  
      </semantic-search>
      </bs-tab-pane>
      <bs-tab-pane event-key="structured-search">
        <semantic-search config='[[searchConfigForFieldsFromQuery "SELECT DISTINCT ?field WHERE { ?field a <http://www.researchspace.org/resource/system/fields/Field> . ?field <http://www.researchspace.org/resource/system/fields/domain> ?domain . ?field <http://www.researchspace.org/resource/system/fields/range> ?range . }"]]'>
          <semantic-search-query-builder></semantic-search-query-builder>
          [[#partial "searchQuery"]]
          <div></div>
          [[/partial]]
          [[> rsp:SearchResults]]
        </semantic-search>
      </bs-tab-pane>
    </bs-tab-content>

  </div>

</bs-tab-container>



