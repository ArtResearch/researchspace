[[!--
uses client-side template:
[[> rsp:HierarchyManagerTemplate]]
--]]
<div class="page">
[[#> rsp:HierarchyManagerTemplate title="Authority and entity configuration" addTitle='configuration']]
    [[#*inline "addNewStructureForm"]][[/inline]]
    [[#*inline "exceptionsStructureList"]][[/inline]]
    [[#*inline "customUploadNewStructureMessage"]]
       <p>Please drag&amp;drop your *.trig or *.nq RDF file(s) with ResearchSpace configurations data.</p>
    [[/inline]]
    [[#*inline "searchResults"]]
          <div class="resource-scheme-row">
              <h1 class="resource-scheme-title">Configurations</h1>
          </div>
                  <semantic-table id='scheme-table'
                          query='
                            SELECT DISTINCT ?scheme ?schemeLabel WHERE {
                              VALUES(?scheme) {
                                (<http://www.researchspace.org/resource/system/vocab/authority_manager_config_types>)
                                (<http://www.researchspace.org/resource/system/FieldCategories>)
                              }
                              ?scheme rdfs:label|skos:prefLabel ?schemeLabel .
                            } ORDER BY ASC(STR(LCASE(?schemeLabel)))'
                          number-of-displayed-rows=15
                          options='{"showTableHeading": false, "showFilter": false}'
                          no-result-template='{{> noScheme}}'
                          column-configuration='[
                              { "variableName": "scheme", "cellTemplate": "{{> schemeRow}}" }
                          ]'>
                      <template id="noScheme">
                          <div style="padding: 12px 8px">
                              No configurations available
                          </div>
                      </template>

                      <template id='schemeRow'>
                          <div class="scheme-table-row">
                              <semantic-link iri="{{scheme.value}}" class="schema-label">{{schemeLabel.value}}</semantic-link>
                              <div class="btn-inline-container">
                              <semantic-link-container uri='{{scheme.value}}' class="schema-label">
                                <button class="btn btn-icon">
                                    <i class="material-icons-round">edit</i>
                                </button>
                              </semantic-link-container>
                              
                              <mp-graph-store-action title="Export" action="GET" graphuri="{{scheme.value}}" file-ending="trig">
                                <button class="btn btn-icon">
                                    <i class="material-icons-round" style="font-size: 21px; padding-bottom:0;">download</i>
                                </button>
                              </mp-graph-store-action>
                              
                              
                              <mp-graph-store-action title="Delete" action="DELETE" graphuri="{{scheme.value}}">
                                <button class="btn btn-icon">
                                    <i class="material-icons-round">delete</i>
                                </button>
                              </mp-graph-store-action>
                              
                              </div>
                          </div>
                      </template>
                  </semantic-table>
    [[/inline]]

[[/rsp:HierarchyManagerTemplate]]
</div>
