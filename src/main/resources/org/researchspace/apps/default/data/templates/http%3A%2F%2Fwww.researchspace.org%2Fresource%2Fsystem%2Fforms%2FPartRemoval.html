<semantic-form [[> rsp:FormDefaults]] 
                persistence='{"type": "sparql","targetInsertGraphIri":"{{#if scheme}}{{scheme}}{{else}}http://www.researchspace.org/resource/g/data{{/if}}"}'
                new-subject-template='{{#if scheme}}{{scheme}}/{{{{raw}}}}{{UUID}}{{{{/raw}}}}{{else}}/part_removal/{{{{raw}}}}{{UUID}}{{{{/raw}}}}{{/if}}'

                fields='[[fieldDefinitions
                          classtype="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"
                          has_type="http://www.researchspace.org/pattern/system/entity/has_type"
                          inScheme="http://www.researchspace.org/pattern/system/entity/is_listed_in"
                          entity_formRecord="http://www.researchspace.org/pattern/system/entity/formRecord"

                          part_removal_document="http://www.researchspace.org/pattern/system/entity/documents"
                          image_main_representation="http://www.researchspace.org/pattern/system/entity/main_image"
                          more_image="http://www.researchspace.org/pattern/system/entity/images"

                          part_removal_title="http://www.researchspace.org/pattern/system/part_removal/part_removal_title"
                          part_removal_description="http://www.researchspace.org/pattern/system/entity/description"

                          part_removal_date="http://www.researchspace.org/pattern/system/temporal_entity/composite_timespanMin0"
                          part_removal_place="http://www.researchspace.org/pattern/system/period/took_place_at_place"
                          
                          part_removal_carried_out_by_domain="http://www.researchspace.org/pattern/system/activity/PC14_carried_out_by"
                          part_removal_had_participant="http://www.researchspace.org/pattern/system/event/had_participant"

                          part_removal_removed_thing="http://www.researchspace.org/pattern/system/part_removal/removed_physical_thing"
                          part_removal_diminished_mmThing="http://www.researchspace.org/pattern/system/part_removal/diminished_mmThing"
                          part_removal_has_modified_physical_thing="http://www.researchspace.org/pattern/system/modification/has_modified_physical_thing"
                          part_removal_employed_material="http://www.researchspace.org/pattern/system/modification/employed_material"

                          part_removal_took_place_on_physical_thing="http://www.researchspace.org/pattern/system/period/took_place_on_physical_thing"
                          part_removal_occurred_in_the_presence_of="http://www.researchspace.org/pattern/system/event/occurred_in_the_presence_of"

                          part_removal_had_general_purpose_type="http://www.researchspace.org/pattern/system/activity/had_general_purpose_type"
                          part_removal_used_general_technique_type="http://www.researchspace.org/pattern/system/activity/used_general_technique"
                          part_removal_used_specific_technique_procedure="http://www.researchspace.org/pattern/system/activity/used_specific_technique"
                          part_removal_used_object_of_type="http://www.researchspace.org/pattern/system/activity/used_object_of_type"
                          part_removal_used_specific_object_domain="http://www.researchspace.org/pattern/system/activity/PC16_used_specific_object"
                          part_removal_was_intended_use_of_domain="http://www.researchspace.org/pattern/system/activity/PC19_was_intended_use_of"

                          part_removal_consist_of_event="http://www.researchspace.org/pattern/system/period/consist_of_period"
                          part_removal_forms_part_of_event="http://www.researchspace.org/pattern/system/period/forms_part_of_period"
                          part_removal_was_continued_by_activity="http://www.researchspace.org/pattern/system/activity/was_continued_by_activity"
                          part_removal_continued_activity="http://www.researchspace.org/pattern/system/activity/continued_activity"
                          part_removal_done_in_preparation_of="http://www.researchspace.org/pattern/system/activity/had_specific_purpose_event"

                          part_removal_motivated_by="http://www.researchspace.org/pattern/system/activity/motivated_by"
                          part_removal_influenced_by="http://www.researchspace.org/pattern/system/activity/influenced_by"
                          
                ]]'>

  <div class="form-scroll-area {{#if nested}}nested-form{{/if}}">
    <semantic-form-hidden-input for="classtype" default-value='http://www.cidoc-crm.org/cidoc-crm/crm:E80_Part_Removal'> </semantic-form-hidden-input>

    {{#if type}}
      <semantic-form-hidden-input for="has_type" default-value="{{scheme}}"></semantic-form-hidden-input>
    {{else}}
      <semantic-form-hidden-input for="has_type"></semantic-form-hidden-input>
    {{/if}}
    
    {{#if scheme}}<semantic-form-hidden-input for="inScheme" default-value="{{scheme}}"></semantic-form-hidden-input>{{/if}}

    <rs-tabs id="{{viewId}}-form-tabs" class-name="form-tabs"> 

      [[> Platform:formSwitchCarriedOutActor  for_kp='part_removal_carried_out_by_domain'
                                              subjectLabel='Removal carried out by'
                                              carried_out_by_has_domain_type_value='http://www.researchspace.org/resource/PC14_carried_out_by/has_domain_type/part_addition'
      ]]

      <semantic-form-select-input for='part_removal_removed_thing' 
                                  label="Part removed (man-made object)" 
                                  placeholder="Select part/object" 
                                  nested-form-templates='[[> Platform:NestedFormTemplates_physicalThings]]'> 
      </semantic-form-select-input>

      <semantic-form-select-input for='part_removal_diminished_mmThing' 
                                  label="Object/thing diminished by the removal" 
                                  placeholder="Select object" 
                                  nested-form-templates='[[> Platform:NestedFormTemplates_physicalManMadeThings]]'>
      </semantic-form-select-input>

      [[> rsp:FormMetadataTab]]
    </rs-tabs>

  </div>

  <semantic-form-errors></semantic-form-errors> 
    
  [[> rsp:FormDefaultActions formEntity='{{#if entityType}}{{entityType}}{{else}}part removal{{/if}}']]

</semantic-form>